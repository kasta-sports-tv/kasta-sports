<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- VideoJS -->
<link href="https://cdn.jsdelivr.net/npm/video.js@8.12.0/dist/video-js.min.css" rel="stylesheet"/>

<!-- Mobile UI -->
<link href="https://cdn.jsdelivr.net/npm/videojs-mobile-ui@1.0.1/dist/videojs-mobile-ui.min.css" rel="stylesheet"/>

<style>
html,body{
    margin:0;
    padding:0;
    background:#000;
}

.player-container{
    position:relative;
    width:100%;
    aspect-ratio:16/9;
    overflow:hidden;
}

.video-js{
    position:absolute !important;
    width:100% !important;
    height:100% !important;
    top:0;
    left:0;
}

/* Прибираємо luxmty by skin та контакт */
.vjs-luxmty .luxmty-watermark,
.vjs-luxmty .luxmty-contact,
.vjs-luxmty .luxmty-brand{
    display:none !important;
}

/* Наш логотип */
.video-watermark{
    position:absolute;
    pointer-events:none;
    z-index:9999;
    opacity:0;
    transition: all 0.3s ease;
}
.video-watermark img{
    width:100%;
    height:auto;
}
</style>
</head>

<body>

<div class="player-container">

<video-js
    id="video-player"
    class="vjs-luxmty vjs-16-9 vjs-show-big-play-button-on-pause"
    controls
    preload="auto"
    playsinline
    poster="https://raw.githubusercontent.com/EmilioSG11/videojs-cosmos-skin/main/images/bbunny.jpg"
>
    <source src="https://bitcdn-kronehit.bitmovin.com/v2/hls/chunklist.m3u8" type="application/x-mpegURL" />
</video-js>

<!-- Логотип -->
<div class="video-watermark" id="wm">
    <img src="https://dl.dropbox.com/scl/fi/5f91hwjnaxeduve9dpsmv/IMG_20251101_134848.png">
</div>

</div>

<!-- VideoJS -->
<script src="https://cdn.jsdelivr.net/npm/video.js@8.12.0/dist/video.min.js"></script>

<!-- Plugins Luxmty -->
<script src="https://cdn.jsdelivr.net/npm/videojs-youtube@3.0.1/dist/Youtube.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-mobile-ui@1.0.1/dist/videojs-mobile-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/EmilioSG11/videojs-hls-quality-selector@main/dist/videojs-hls-quality-selector.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contextmenu-ui@7.0.0/dist/videojs-contextmenu-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-quality-menu@1.0.1/dist/videojs-contrib-quality-menu.js"></script>
<script src="https://dl.dropbox.com/scl/fi/v0ulq6iiu152blz4h4vt9/luxmtyadv.min.js?rlkey=o1bzgv7mh6oa6gamnfwrjz"></script>
<script src="https://dl.dropbox.com/scl/fi/ogug37z70m3c93xmcbo2j/demo-luxmty-advanced.js?rlkey=p122gt64kciuh2ufa9h9gvnkn"></script>

<script>
const player = videojs("video-player", {
    liveui: true,
    responsive: true,
    fluid: false
});

// Mobile UI
player.mobileUi();

// Luxmty кнопка якості
player.hlsQualitySelector({displayCurrentQuality:true});

// Контекст меню
player.contextmenuUI();

// ===== Custom logo / watermark =====
player.ready(function(){

    const wm = document.getElementById("wm");
    const wmImg = wm.querySelector("img");
    player.el().appendChild(wm);

    const settings = {
        desktop: { normal:{width:120, top:"6%", right:"2%"}, fullscreen:{width:120*2.5, top:"8%", right:"1%"} },
        mobile: { normal:{width:80, top:"3%", right:"4%"}, fullscreen:{width:80*2.5, top:"5%", right:"7%"} }
    };

    function isMobile(){ return window.innerWidth <= 768; }
    function isFullscreen(){ return player.isFullscreen(); }

    function updateWatermark(){
        let device = isMobile() ? "mobile" : "desktop";
        let mode = isFullscreen() ? "fullscreen" : "normal";
        let cfg = settings[device][mode];
        wmImg.style.width = cfg.width+"px";
        wm.style.top = cfg.top;
        wm.style.right = cfg.right;
    }

    player.on("playing", ()=> wm.style.opacity="1");
    player.on("pause", ()=> wm.style.opacity="1");
    player.on("ended", ()=> wm.style.opacity="0");
    player.on("fullscreenchange", updateWatermark);
    window.addEventListener("resize", updateWatermark);

    updateWatermark();
});
</script>

</body>
</html>
