<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://cdn.jsdelivr.net/npm/video.js@8.12.0/dist/video-js.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/videojs-mobile-ui@1.0.1/dist/videojs-mobile-ui.css" rel="stylesheet"/>

<style>
html, body {
    margin: 0;
    padding: 0;
    background: #000;
}

.player-container {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9;
    overflow: hidden;
    background: #000; /* на випадок чорного фону */
}

.video-js {
    position: absolute !important;
    width: 100% !important;
    height: 100% !important;
    top: 0;
    left: 0;
}

/* Водяний знак — завжди поверх, не заважає */
.player-watermark {
    position: absolute;
    z-index: 10000;               /* вище за все в плеєрі */
    pointer-events: none;
    opacity: 1 !important;        /* завжди 100% видимий */
    transition: none;
}

.player-watermark img {
    display: block;
    max-width: 100%;
    height: auto;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5); /* легка тінь для видимості */
}
</style>
</head>

<body>

<div class="player-container">
    <video
        id="video-player"
        class="video-js vjs-luxmty vjs-16-9 vjs-show-big-play-button-on-pause"
        controls
        preload="auto"
        playsinline
        poster="https://raw.githubusercontent.com/EmilioSG11/videojs-cosmos-skin/main/images/bbunny.jpg"
    >
        <source src="https://bitcdn-kronehit.bitmovin.com/v2/hls/chunklist.m3u8" type="application/x-mpegURL" />
    </video>

    <!-- Твій водяний знак (перекриє вбудований логотип) -->
    <div class="player-watermark" id="wm">
        <img src="https://dl.dropbox.com/scl/fi/5f91hwjnaxeduve9dpsmv/IMG_20251101_134848.png?rlkey=zp6loeqvic2bsve388qei887o" alt="watermark">
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/video.js@8.12.0/dist/video.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-mobile-ui@1.0.1/dist/videojs-mobile-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/EmilioSG11/videojs-hls-quality-selector@main/dist/videojs-hls-quality-selector.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-logo@3.0.0/dist/videojs-logo.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contextmenu-ui@7.0.0/dist/videojs-contextmenu-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-quality-menu@1.0.1/dist/videojs-contrib-quality-menu.js"></script>

<script src="https://dl.dropbox.com/scl/fi/v0ulq6iiu152blz4h4vt9/luxmtyadv.min.js?rlkey=o1bzgv7mh6oa6gamnfwr2fljz"></script>
<script src="https://dl.dropbox.com/scl/fi/ogug37z70m3c93xmcbo2j/demo-luxmty-advanced.js?rlkey=p122gt64kciuh2ufa9h9gvnkn"></script>

<script>
const player = videojs("video-player", {
    liveui: true,
    responsive: true,
    fluid: false
});

player.mobileUi();
player.hlsQualitySelector({ displayCurrentQuality: true });
player.contextmenuUI();

// Залишаємо logo(), бо без нього часто ламається Luxmty-скін
player.logo({
    image: "https://dl.dropbox.com/scl/fi/5f91hwjnaxeduve9dpsmv/IMG_20251101_134848.png?rlkey=zp6loeqvic2bsve388qei887o",
    url: "https://google.com"
});

// Логіка водяного знаку — перекриває вбудований логотип
(function(){
    const wm = document.getElementById("wm");
    const img = wm.querySelector("img");
    const playerEl = player.el();

    if (playerEl && wm && !playerEl.contains(wm)) {
        playerEl.appendChild(wm);
    }

    // Розміри та позиції — міняй тут під себе!
    const config = {
        normal: {
            desktop: { width: 160, top: 20, right: 20 },   // ← ПК, звичайний режим
            mobile:  { width: 100, top: 12, right: 12 }    // ← мобілка, звичайний
        },
        fullscreen: {
            desktop: { width: 240, top: 30, right: 30 },   // ← ПК, fullscreen
            mobile:  { width: 160, top: 20, right: 20 }    // ← мобілка, fullscreen
        }
    };

    function updateWM() {
        const isFS = player.isFullscreen();
        const isDesktop = window.innerWidth > 768;
        const mode = isFS ? 'fullscreen' : 'normal';
        const sizeSet = isDesktop ? config[mode].desktop : config[mode].mobile;

        img.style.width = sizeSet.width + 'px';
        img.style.height = 'auto';

        wm.style.top = '';
        wm.style.bottom = '';
        wm.style.left = '';
        wm.style.right = '';

        wm.style.top = sizeSet.top + 'px';
        wm.style.right = sizeSet.right + 'px';
    }

    player.on('ready', updateWM);
    player.on('fullscreenchange', updateWM);
    window.addEventListener('resize', updateWM);

    // Запускаємо кілька разів, бо плеєр іноді повільно рендериться
    setTimeout(updateWM, 300);
    setTimeout(updateWM, 800);
    setTimeout(updateWM, 1500);
})();
</script>

</body>
</html>
