<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π Video.js 16/9</title>
<link href="https://unpkg.com/video.js@7.10.2/dist/video-js.min.css" rel="stylesheet">

<style>
  body {
    margin: 0;
    background: #000;
  }

  /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä 16/9 */
  .video-container {
    width: 100%;
    height: 100%;
    position: relative;
    padding-top: 56.25%;
    overflow: hidden;
  }

  /* –ü–ª–µ—î—Ä */
  .video-container .video-js {
    position: absolute;
    top: 0;
    left: 0;
    width: 100% !important;
    height: 100% !important;
  }

  /* –ö–æ–Ω—Ç—Ä–æ–ª–±–∞—Ä */
  .video-js .vjs-control-bar {
    box-sizing: border-box;
  }

  /* === –í–û–î–Ø–ù–ò–ô –ó–ù–ê–ö ‚Äî 1:1 —è–∫ —É Clappr === */
  .video-watermark {
    pointer-events: none;
    z-index: 9999;
    position: absolute;
    filter: drop-shadow(0 0 6px rgba(0,191,255,0.8))
            drop-shadow(0 0 12px rgba(173,216,230,0.6));
    transition: all 0.3s ease;
  }

  /* –ü–ö ‚Äî –ù–ï fullscreen */
  @media (min-width: 768px) {
    .video-watermark {
      top: 4%;
      right: 1%;
    }
    .video-watermark img {
      width: 100px;
      height: auto;
    }
  }

  /* –¢–µ–ª–µ—Ñ–æ–Ω ‚Äî –ù–ï fullscreen */
  @media (max-width: 767px) {
    .video-watermark {
      top: 3%;
      right: 4%;
    }
    .video-watermark img {
      width: 60px;
      height: auto;
    }
  }
</style>
</head>
<body>

<div class="video-container" id="videoContainer">
  <video id="videoPlayer" class="video-js vjs-default-skin" controls preload="auto" playsinline></video>

  <!-- üî• –í–æ–¥—è–Ω–∏–π –∑–Ω–∞–∫ —è–∫ —É Clappr -->
  <div class="video-watermark" id="wm">
    <img src="https://imgpx.com/QNw0mYKgAwaA.png">
  </div>
</div>

<script src="https://unpkg.com/video.js@7.10.2/dist/video.min.js"></script>
<script>
  const nowPlayVideoUrl =
    'https://cors.orestlutij9.workers.dev/?url=https://mfvideo246.top/hls/ms7.m3u8';

  const options = {
    autoplay: false,
    muted: true,
    preload: 'auto',
    controls: true
  };

  let player = videojs('videoPlayer', options, function() {
    this.src([{ src: nowPlayVideoUrl, type: 'application/x-mpegURL' }]);
    this.play().catch(()=>{});
  });

  window.addEventListener('unload', function() {
    if (player) player.dispose();
  });

  /* === üî• –ì–û–õ–û–í–ù–ê –ü–†–ê–í–ö–ê ‚Äî watermark –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—É –ø–ª–µ—î—Ä–∞ === */
  const wm = document.getElementById("wm");
  const playerEl = document.querySelector(".video-js");
  playerEl.appendChild(wm); // <<< –û–¶–ï –¢–ê –Ñ–î–ò–ù–ê –†–Ü–ß! –∑–Ω–∞–∫ —Ç–µ–ø–µ—Ä –Ω–µ –∑–Ω–∏–∫–∞—î

  const wmImg = wm.querySelector("img");

  function updateWatermark() {
    const isFullscreen =
      document.fullscreenElement ||
      document.webkitFullscreenElement ||
      player.isFullscreen();

    const isDesktop = window.innerWidth > 768;
    const baseWidth = 100;

    if (isFullscreen) {
      if (isDesktop) {
        // –ü–ö fullscreen
        wmImg.style.width = (baseWidth * 2.0) + "px";
        wm.style.top = "9%";
        wm.style.right = "1%";
      } else {
        // –¢–µ–ª–µ—Ñ–æ–Ω fullscreen
        wmImg.style.width = (baseWidth * 0.6) + "px";
        wm.style.top = "4%";
        wm.style.right = "10%";
      }
    } else {
      if (isDesktop) {
        // –ü–ö normal
        wmImg.style.width = (baseWidth * 1.6) + "px";
        wm.style.top = "4%";
        wm.style.right = "1%";
      } else {
        // –¢–µ–ª–µ—Ñ–æ–Ω normal
        wmImg.style.width = baseWidth + "px";
        wm.style.top = "3%";
        wm.style.right = "4%";
      }
    }
  }

  // –ü–æ–¥—ñ—ó —è–∫ —É Clappr
  player.on("fullscreenchange", updateWatermark);
  window.addEventListener("resize", updateWatermark);
  document.addEventListener("fullscreenchange", updateWatermark);
  document.addEventListener("webkitfullscreenchange", updateWatermark);

  // –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫
  setTimeout(updateWatermark, 300);
</script>

</body>
</html>
