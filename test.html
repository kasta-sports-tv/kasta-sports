<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π Video.js 16/9</title>
<link href="https://unpkg.com/video.js@7.10.2/dist/video-js.min.css" rel="stylesheet">

<style>
  body {
    margin: 0;
    background: #000;
  }

  /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä 16/9 */
  .video-container {
    width: 100%;
    height: 100%;
    position: relative;
    padding-top: 56.25%;
    overflow: hidden;
  }

  /* –ü–ª–µ—î—Ä */
  .video-container .video-js {
    position: absolute;
    top: 0;
    left: 0;
    width: 100% !important;
    height: 100% !important;
  }

  /* –ö–æ–Ω—Ç—Ä–æ–ª–±–∞—Ä */
  .video-js .vjs-control-bar {
    box-sizing: border-box;
  }

  /* === –í–û–î–Ø–ù–ò–ô –ó–ù–ê–ö */
  .video-watermark {
    pointer-events: none;
    z-index: 9999;
    position: absolute;
    filter: drop-shadow(0 0 6px rgba(0,191,255,0.8))
            drop-shadow(0 0 12px rgba(173,216,230,0.6));
    transition: all 0.3s ease;
  }
</style>
</head>
<body>

<div class="video-container" id="videoContainer">
  <video id="videoPlayer" class="video-js vjs-default-skin" controls preload="auto" playsinline></video>

  <!-- üî• –í–æ–¥—è–Ω–∏–π –∑–Ω–∞–∫ -->
  <div class="video-watermark" id="wm">
    <img src="https://imgpx.com/QNw0mYKgAwaA.png">
  </div>
</div>

<script src="https://unpkg.com/video.js@7.10.2/dist/video.min.js"></script>
<script>
  const nowPlayVideoUrl = 'https://cors.orestlutij9.workers.dev/?url=https://mfvideo246.top/hls/ms7.m3u8';

  const options = {
    autoplay: false, // –∞–≤—Ç–æ–ø–ª–µ–π –≤–∏–º–∫–Ω–µ–Ω–æ
    muted: false,    // –∑–≤—É–∫ —É–≤—ñ–º–∫–Ω–µ–Ω–æ –æ–¥—Ä–∞–∑—É
    preload: 'auto',
    controls: true
  };

  let player = videojs('videoPlayer', options, function() {
    this.src([{ src: nowPlayVideoUrl, type: 'application/x-mpegURL' }]);
  });

  window.addEventListener('unload', function() {
    if (player) player.dispose();
  });

  // === Watermark logic ===
  const wm = document.getElementById("wm");
  const wmImg = wm.querySelector("img");
  const playerEl = document.querySelector(".video-js");
  playerEl.appendChild(wm);

  const baseWidth = 60; // —Ç—É—Ç —Ç–∏ –º–æ–∂–µ—à –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –º–∞—Å—à—Ç–∞–± –¥–ª—è –≤—Å—ñ—Ö —Ä–µ–∂–∏–º—ñ–≤

  function updateWatermark() {
    const isFullscreen =
      document.fullscreenElement ||
      document.webkitFullscreenElement ||
      player.isFullscreen();
    const isDesktop = window.innerWidth > 768;

    if (isFullscreen) {
      if (isDesktop) {
        // –ü–ö fullscreen
        wmImg.style.width = (baseWidth * 2.4) + "px";
        wm.style.top = "9%";
        wm.style.right = "1%";
      } else {
        // –¢–µ–ª–µ—Ñ–æ–Ω fullscreen
        wmImg.style.width = (baseWidth * 1.2) + "px";
        wm.style.top = "4%";
        wm.style.right = "10%";
      }
    } else {
      if (isDesktop) {
        // –ü–ö normal
        wmImg.style.width = (baseWidth * 1.6) + "px";
        wm.style.top = "4%";
        wm.style.right = "1%";
      } else {
        // –¢–µ–ª–µ—Ñ–æ–Ω normal ‚Äî –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –ø–æ–≤–Ω—ñ—Å—Ç—é –ø—ñ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º
        wmImg.style.width = baseWidth + "px"; // <- –º–æ–∂–µ—à –∑–º—ñ–Ω—é–≤–∞—Ç–∏ baseWidth
        wm.style.top = "3%";                  // <- —Ä–µ–≥—É–ª—é—î—à –ø–æ–ª–æ–∂–µ–Ω–Ω—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—ñ
        wm.style.right = "4%";                // <- —Ä–µ–≥—É–ª—é—î—à –ø–æ–ª–æ–∂–µ–Ω–Ω—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—ñ
      }
    }
  }

  // –ü–æ–¥—ñ—ó –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≤–æ–¥—è–Ω–æ–≥–æ –∑–Ω–∞–∫—É
  player.on("fullscreenchange", updateWatermark);
  window.addEventListener("resize", updateWatermark);
  document.addEventListener("fullscreenchange", updateWatermark);
  document.addEventListener("webkitfullscreenchange", updateWatermark);

  // –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫
  setTimeout(updateWatermark, 300);
</script>

</body>
</html>
