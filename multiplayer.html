<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Olympic Streams</title>

<style>

body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0b0f1a;
  color:white;
  overflow:hidden; /* сторінка не скролиться */
  height:100vh;
}

/* HEADER */
header{
  background:#070917; /* темніше за фон сайту */
  padding:10px 0;
  text-align:center;
}

.header-content{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
}

header .logo{
  width:100px;
  height:auto;
}

header .title{
  width:100px;
  height:auto;
}

/* MAIN LAYOUT */
.container{
  display:flex;
  padding:15px;
  gap:15px;
  height:calc(100vh - 90px); /* висота контейнера мінус header */
}

/* MAIN PLAYER */
.main-player{
  flex:3;
  display:flex;
  flex-direction:column;
}

.main-player .iframe-wrap iframe{
  width:100%;
  height:100%;
  border:none;
  border-radius:12px;
  background:black;
}

/* SIDE PLAYERS */
.side-players{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:10px;
  overflow-y:auto; /* вертикальний скрол */
}

.side-player{
  cursor:pointer;
  background:#1b2235;
  padding:5px;
  border-radius:10px;
  transition:0.3s;
  display:flex;
  flex-direction:column;
}

.side-player:hover{
  background:#2a3555;
}

.side-player .iframe-wrap iframe{
  width:100%;
  height:100%;
  border:none;
  border-radius:8px;
  pointer-events:none; /* клік проходить до батька */
}

/* ПРОГРАМА */
.program-container{
  margin-top:10px;
  background: rgba(0,0,0,0.55);
  border-radius:10px;
  padding:10px;
  flex-shrink:0;
  overflow-y:auto;     /* вертикальний скрол */
  max-height:100px;    /* ПК */
}

/* Кожен рядок програми окремий div */
.program-container .schedule div {
  margin-bottom:4px;
}

/* MOBILE */
@media(max-width:900px){
  .container{
    flex-direction:column;
    height:auto;
  }

  .side-players{
    flex-direction:row;
    overflow-x:auto;
    height:auto;
  }

  .side-player{
    min-width:200px;
  }

  .program-container{
    max-height:120px; /* мобільний скрол */
  }
}

/* Обгортка 16:9 */
.iframe-wrap{
  position:relative;
  height:0;
  padding-bottom:56.25%;
}

.iframe-wrap iframe{
  position:absolute;
  left:0;
  top:0;
  width:100%;
  height:100%;
  border:none;
}

</style>
</head>
<body>

<header>
  <div class="header-content">
    <img src="https://imgpx.com/pac5ubK1RSvf.png" alt="Логотип" class="logo">
    <img src="https://imgpx.com/l5sFEQqt3mz0.png" alt="Назва" class="title">
  </div>
</header>

<div class="container">

  <!-- MAIN PLAYER -->
  <div class="main-player">

    <div class="iframe-wrap">
      <iframe 
        id="mainFrame"
        frameborder="0"
        scrolling="no"
        sandbox="allow-forms allow-pointer-lock allow-same-origin allow-scripts allow-top-navigation"
        allowfullscreen="allowfullscreen">
      </iframe>
    </div>

    <!-- ПРОГРАМА -->
    <div class="program-container" id="programContainer">
      <div id="playerTitle">Плеєр 1</div>
      <div class="schedule" id="scheduleBox"></div>
    </div>
  </div>

  <!-- SIDE PLAYERS -->
  <div class="side-players" id="sidePlayers"></div>

</div>

<script>

const players = [

{
  title:"24/7 | 6 лютого",
  src:"https://kasta-sports.vercel.app/videojs.html?url=https%3A%2F%2Fext.cdn.nashnet.tv%2F228.0.0.41%2Findex.m3u8%26poster%3Dhttps%3A%2F%2Fexplainer.ua%2Fwp-content%2Fuploads%2F2026%2F01%2Fmain-1-920x537.jpg",
  schedule:[
    "11:00 | Фігурне катання. Команди. Танці на льоду. Ритм-танець",
    "12:40 | Фігурне катання. Команди. Пари. Коротка програма",
    "14:40 | Фігурне катання. Команди. Жінки. Коротка програма",
    "16:00 | Хокей. Європейський Кубок націй. Україна - Польща",
    "21:00 | Зимова Олімпіада 2026. Церемонія відкриття",
    "11:00 | Фігурне катання. Команди. Танці на льоду. Ритм-танець",
    "12:40 | Фігурне катання. Команди. Пари. Коротка програма",
    "14:40 | Фігурне катання. Команди. Жінки. Коротка програма",
    "16:00 | Хокей. Європейський Кубок націй. Україна - Польща",
    "21:00 | Зимова Олімпіада 2026. Церемонія відкриття"
  ]
},

{
  title:"Плеєр 1 | 6 лютого",
  src:"https://live-nstu-cam01.cosmonova-broadcast.tv/player",
  schedule:[
    "17:30 Біатлон",
    "20:00 Хокей",
    "21:30 Фехтування",
    "23:00 Плавання"
  ]
},

{
  title:"Плеєр 2 | 6 лютого",
  src:"https://live-nstu-cam02.cosmonova-broadcast.tv/player",
  schedule:[
    "19:00 Фігурне катання",
    "21:00 Стрибки"
  ]
},

{
  title:"Плеєр 3 | 6 лютого",
  src:"https://live-nstu-cam03.cosmonova-broadcast.tv/player",
  schedule:[
    "16:00 Керлінг",
    "18:00 Лижні гонки"
  ]
},

{
  title:"Плеєр 4 | 6 лютого",
  src:"https://live-nstu-cam04.cosmonova-broadcast.tv/player",
  schedule:[
    "22:00 Лижні гонки"
  ]
}

];

let mainIndex = 0;

const mainFrame = document.getElementById("mainFrame");
const sideContainer = document.getElementById("sidePlayers");
const scheduleBox = document.getElementById("scheduleBox");
const playerTitle = document.getElementById("playerTitle");

function render(){

  // MAIN
  mainFrame.src = players[mainIndex].src;
  playerTitle.innerText = players[mainIndex].title;

  // очищаємо schedule і додаємо кожен рядок в div
  scheduleBox.innerHTML = "";
  players[mainIndex].schedule.forEach(line => {
    const div = document.createElement("div");
    div.innerText = line;
    scheduleBox.appendChild(div);
  });

  // SIDE
  sideContainer.innerHTML = "";

  players.forEach((p,index)=>{

    if(index === mainIndex) return;

    const div = document.createElement("div");
    div.className="side-player";

    div.innerHTML = `
      <div class="iframe-wrap">
        <iframe
          src="${p.src}"
          frameborder="0"
          scrolling="no"
          sandbox="allow-forms allow-pointer-lock allow-same-origin allow-scripts allow-top-navigation"
          allowfullscreen="allowfullscreen">
        </iframe>
      </div>
      <div style="padding:5px">${p.title}</div>
    `;

    div.onclick = ()=>{
      mainIndex = index;
      render();
    };

    sideContainer.appendChild(div);

  });

}

render();

/* Авто поворот fullscreen */
document.addEventListener("fullscreenchange", handleFullscreen);
document.addEventListener("webkitfullscreenchange", handleFullscreen);

function handleFullscreen(){

  if(document.fullscreenElement){
    if(screen.orientation && screen.orientation.lock){
      screen.orientation.lock("landscape").catch(()=>{});
    }
  } else {
    if(screen.orientation && screen.orientation.unlock){
      screen.orientation.unlock();
    }
  }

}

</script>

</body>
</html>
